#!/bin/sh
# Author: https://github.com/LukeSmithxyz
filter() { mpc | sed "/^volume:/d;s/\\&/&amp;/g;s/\\[paused\\].*/ÔÅå/g;/\\[playing\\].*/d" | paste -sd ' ';}
#filter() { mpc | sed "/^volume:/d;s/\\&/&amp;/g;s/\\[paused\\].*/[paused]/g;s/\\[playing\\].*/\\[playing\\]/g" | paste -sd ' ' | awk '{f=$NF;$NF="";print f,$0}' ;}
pidof -x mpdup >/dev/null 2>&1 || mpdup >/dev/null 2>&1 &

case $BLOCK_BUTTON in
	1) mpc toggle | filter ;;  # left click, pause/unpause
	2) mpc status | filter ; setsid -f "$TERMINAL" -e ncmpcpp ;;  # middle click, opens player
	3) mpc status | filter ; notify-send "üéµ Music module" "\- Shows mpd song playing.
- ‚è∏ when paused.
- Left click pauses.
- Middle opens ncmpcpp.
- Scroll changes track.";;  # right click, pause/unpause
	4) mpc prev   | filter ;;  # scroll up, previous
	5) mpc next   | filter ;;  # scroll down, next
	6) mpc status | filter ; "$TERMINAL" -e "$EDITOR" "$0" ;;
	*) mpc status | filter ;;
esac
